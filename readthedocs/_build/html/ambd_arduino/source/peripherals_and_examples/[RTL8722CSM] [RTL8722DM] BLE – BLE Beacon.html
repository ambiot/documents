

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>[RTL8722CSM] [RTL8722DM] BLE – BLE Beacon &mdash; amebaDocs 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="[RTL8722CSM] [RTL8722DM] BLE – BLE Scan" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20BLE%20%E2%80%93%20BLE%20Scan.html" />
    <link rel="prev" title="[RTL8722CSM] [RTL8722DM] BLE – BLE Battery Service" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20BLE%20%E2%80%93%20BLE%20Battery%20Service.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> amebaDocs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Open Source SDKs:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../source/arduino_index.html">Arduino SDK</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html">AmebaD</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../ambd_mini/source/index.html">AmebaD-mini</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/getting_started/RTL8722DM_mini_Arduino%20SDK_getting%20start.html">Getting Started with RTL8722DM_mini</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/download/index.html">Download</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../ambd_mini/source/peripherals_and_examples/index.html">Peripherals &amp; Examples</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../../ambd_mini/source/peripherals_and_examples/RTL8722DM_MINI_Arduino_SDK_basic_example_table%2015Apr2021.html">Basic Examples</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="Network%20Examples.html">Network Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="Peripheral%20Examples.html">Peripheral Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="Components%20used.html">Components used</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/board_hdk/index.html">Board HDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/api_documents/index.html">API Documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/resources/index.html">Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/support/index.html">Support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_micropython/source/index.html">Micropython SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_sdk/source/index.html">Standard SDK</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">amebaDocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../source/arduino_index.html">Arduino SDK</a> &raquo;</li>
        
          <li><a href="../index.html">AmebaD</a> &raquo;</li>
        
          <li><a href="index.html">Peripherals &amp; Examples</a> &raquo;</li>
        
          <li><a href="Network%20Examples.html">Network Examples</a> &raquo;</li>
        
      <li>[RTL8722CSM] [RTL8722DM] BLE – BLE Beacon</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/ambd_arduino/source/peripherals_and_examples/[RTL8722CSM] [RTL8722DM] BLE – BLE Beacon.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rtl8722csm-rtl8722dm-ble-ble-beacon">
<h1>[RTL8722CSM] [RTL8722DM] BLE – BLE Beacon<a class="headerlink" href="#rtl8722csm-rtl8722dm-ble-ble-beacon" title="Permalink to this headline">¶</a></h1>
<p>Materials</p>
<ul class="simple">
<li><p>Ameba D x 1</p></li>
<li><p>Android / iOS mobile phone</p></li>
</ul>
<p>Example</p>
<p><strong>Introduction</strong></p>
<p>A BLE beacon broadcasts its identity to nearby Bluetooth devices, to
enable the other devices to determine their location relative to the
beacon, and to perform actions based on information broadcasted by the
beacon.</p>
<p>Example applications of beacons include indoor positioning system,
location-based advertising and more.</p>
<p>From the definition of its purpose as a broadcast device, a BLE beacon
thus cannot be connected to, and can only send information in its
Bluetooth advertisement packets.</p>
<p>There are several BLE beacon protocols. The Ameba BLEBeacon library
supports the iBeacon and AltBeacon protocols.</p>
<p><strong>Procedure</strong></p>
<div class="line-block">
<div class="line">First, you need to install some Bluetooth apps on your mobile phone.
These apps will show you the raw data sent by Ameba and allow you to
interact with the data.</div>
<div class="line">The recommended application is nRF connect, and is available at the
links below:</div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>Android</dt><dd><p>: <a class="reference external" href="https://play.google.com/store/apps/details?id=no.nordicsemi.android.mcp">https://play.google.com/store/apps/details?id=no.nordicsemi.android.mcp</a></p>
</dd>
</dl>
</li>
<li><p>iOS :<a class="reference external" href="https://apps.apple.com/us/app/nrf-connect/id1054362403">https://apps.apple.com/us/app/nrf-connect/id1054362403</a></p></li>
</ul>
<p>LightBlue is an alternative application that can also be used, but has
less features:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Android</dt><dd><p>: <a class="reference external" href="https://play.google.com/store/apps/details?id=com.punchthrough.lightblueexplorer">https://play.google.com/store/apps/details?id=com.punchthrough.lightblueexplorer</a></p>
</dd>
</dl>
</li>
<li><p>iOS :<a class="reference external" href="https://apps.apple.com/us/app/lightblue/id557428110">https://apps.apple.com/us/app/lightblue/id557428110</a></p></li>
</ul>
<p>Open the example, “Files” -&gt; “Examples” -&gt; “AmebaBLE” -&gt; “BLEBeacon”</p>
<a class="reference internal image-reference" href="../../../_images/image113.png"><img alt="2" src="../../../_images/image113.png" style="width: 6.02778in; height: 3.45833in;" /></a>
<p>Upload the code and press the reset button on Ameba once the upload is
finished.</p>
<p>On your mobile phone, open the Bluetooth app and scan for the beacon
signal broadcast by Ameba.</p>
<a class="reference internal image-reference" href="../../../_images/image213.png"><img alt="3" src="../../../_images/image213.png" style="width: 5.20833in; height: 5.20833in;" /></a>
<p>If you happen to be in an environment with multiple BLE beacons, you can
tap the entries to expand them, and verify that the beacon data is
identical to the data in the sketch.</p>
<p>Code Reference</p>
<p>setRssi() is used to set the received signal strength indicator (rssi)
data field for a beacon. The specification states that this should be
the received signal strength from the beacon at a 1 meter distance. With
no method to measure this, it is set to -65dBm as an estimate.</p>
<p>setMajor() and setMinor() are used to set the two data fields. The
purpose of these data are left for the manufacturer of the beacon to
define, and can be used in any way.</p>
<p>setUUID() is used to give the beacon a universally unique identifier
(UUID). This is a 128-bit number usually expressed as a hexadecimal
string. It is used to identify each unique beacon, and can be randomly
generated for free online.</p>
<p>The BLEBeacon library includes both iBeacon and AltBeacon classes,
replace line 6 iBeacon with altBeacon to create an AltBeacon instead.
The data fields are mostly the same, with only minor changes, please
look at the header files for more details.</p>
<p>BLE.init() is used to allocate memory and prepare Ameba for starting the
Bluetooth stack.</p>
<p>BLE.configAdvert() is used to configure the Bluetooth advertisement
settings, to which we pass the beacon data and set the device as
non-connectable.</p>
<p>BLE.beginPeripheral() starts Ameba in Bluetooth peripheral mode, after
which it will begin to advertise with the beacon data provided.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20BLE%20%E2%80%93%20BLE%20Scan.html" class="btn btn-neutral float-right" title="[RTL8722CSM] [RTL8722DM] BLE – BLE Scan" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20BLE%20%E2%80%93%20BLE%20Battery%20Service.html" class="btn btn-neutral float-left" title="[RTL8722CSM] [RTL8722DM] BLE – BLE Battery Service" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Ameba IoT.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>