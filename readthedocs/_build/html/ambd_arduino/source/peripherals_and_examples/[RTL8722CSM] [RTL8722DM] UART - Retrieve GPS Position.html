

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>[RTL8722CSM] [RTL8722DM] UART - Retrieve GPS Position &mdash; amebaDocs 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="[RTL8722CSM] [RTL8722DM] UART – Set Callback Function For UART Communications" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20UART%20%E2%80%93%20Set%20Callback%20Function%20For%20UART%20Communications.html" />
    <link rel="prev" title="[RTL8722DM] [RTL8722DM] UART - Communicate with the computer via UART" href="%5BRTL8722DM%5D%20%5BRTL8722DM%5D%20UART%20-%20Communicate%20with%20the%20computer%20via%20UART.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> amebaDocs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Open Source SDKs:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../source/arduino_index.html">Arduino SDK</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html">AmebaD</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../ambd_mini/source/index.html">AmebaD-mini</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/getting_started/RTL8722DM_mini_Arduino%20SDK_getting%20start.html">Getting Started with RTL8722DM_mini</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/download/index.html">Download</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../ambd_mini/source/peripherals_and_examples/index.html">Peripherals &amp; Examples</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../../ambd_mini/source/peripherals_and_examples/RTL8722DM_MINI_Arduino_SDK_basic_example_table%2015Apr2021.html">Basic Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="Network%20Examples.html">Network Examples</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="Peripheral%20Examples.html">Peripheral Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="Components%20used.html">Components used</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/board_hdk/index.html">Board HDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/api_documents/index.html">API Documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/resources/index.html">Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/support/index.html">Support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_micropython/source/index.html">Micropython SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_sdk/source/index.html">Standard SDK</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">amebaDocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../source/arduino_index.html">Arduino SDK</a> &raquo;</li>
        
          <li><a href="../index.html">AmebaD</a> &raquo;</li>
        
          <li><a href="index.html">Peripherals &amp; Examples</a> &raquo;</li>
        
          <li><a href="Peripheral%20Examples.html">Peripheral Examples</a> &raquo;</li>
        
      <li>[RTL8722CSM] [RTL8722DM] UART - Retrieve GPS Position</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/ambd_arduino/source/peripherals_and_examples/[RTL8722CSM] [RTL8722DM] UART - Retrieve GPS Position.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rtl8722csm-rtl8722dm-uart-retrieve-gps-position">
<h1>[RTL8722CSM] [RTL8722DM] UART - Retrieve GPS Position<a class="headerlink" href="#rtl8722csm-rtl8722dm-uart-retrieve-gps-position" title="Permalink to this headline">¶</a></h1>
<p>Preparation</p>
<ul class="simple">
<li><p>Ameba x 1</p></li>
<li><dl class="simple">
<dt><a href="#id1"><span class="problematic" id="id2">`</span></a>Adafruit Ultimate GPS</dt><dd><p>Breakout &lt;<a class="reference external" href="https://www.adafruit.com/products/746">https://www.adafruit.com/products/746</a>&gt;`__ x 1 (Refer
to <a class="reference external" href="https://learn.adafruit.com/adafruit-ultimate-gps?view=all">official
document</a>)</p>
</dd>
</dl>
</li>
</ul>
<p>Example</p>
<p>In this example, we use Adafruit Ultimate GPS Breakout. Its data format
is pure text, so we can connect it to USB to TTL Adapter and observe the
output.<a class="reference internal" href="../../../_images/image147.png"><img alt="1" src="../../../_images/image147.png" style="width: 6.5in; height: 1.52569in;" /></a><a class="reference internal" href="../../../_images/image246.png"><img alt="2" src="../../../_images/image246.png" style="width: 6.02778in; height: 3.45833in;" /></a>It follows the NMEA sentence format (refer
to <a class="reference external" href="http://aprs.gids.nl/nmea/)The">http://aprs.gids.nl/nmea/)The</a> GPS signal is weak in indoor
environment. The status that the GPS signal is not received is called
“not fix”. Bring the GPS module outdoors, when the GPS signal is “fix”,
you would get message similar to the figure below.<a class="reference internal" href="../../../_images/image327.png"><img alt="3" src="../../../_images/image327.png" style="width: 6.34722in; height: 3.46528in;" /></a>In this example
we are only interested in the “$GPRMC (Global Positioning Recommended
Minimum
Coordinates)”: <strong>$GPRMC,032122.000,A,2446.8181,N,12059.7251,E,0.39,78.89,270116,,,A*53</strong> Each
field is separated by a comma.</p>
<ul class="simple">
<li><dl class="simple">
<dt>First field is the GMT time (Greenwich Mean Time), that is 032122.000</dt><dd><p>in this example. The time format is HH:MM:SS.SSS, i.e.,
03:21:22.000. Note that the time zone and the daylight-saving time
adjustment should be handled on your own.</p>
</dd>
</dl>
</li>
<li><p>Second field represents the status code</p>
<ul>
<li><p>V: Void (Invalid)</p></li>
<li><p>A: Active, meaning the GPS signal is fix.</p></li>
</ul>
</li>
<li><p>The third to sixth fields represent the geolocation</p></li>
</ul>
<p>In this example, 2446.8181,N represents 24 degrees 46.8181 minutes north
latitude, and 12059.7251,E represents 120 degrees 59.7251 minutes east
longitude. We can search <a href="#id3"><span class="problematic" id="id4">**</span></a>+24 46.8181’, +120 59.7251’ <a href="#id5"><span class="problematic" id="id6">**</span></a>in Google map
to check whether the position is correct.<a class="reference internal" href="../../../_images/image424.png"><img alt="4" src="../../../_images/image424.png" style="width: 6.5in; height: 4.10903in;" /></a></p>
<ul class="simple">
<li><dl class="simple">
<dt>The seventh field is relative speed(knot). 1 knot = 1.852km/hr, in</dt><dd><p>this example the relative speed is 0.39 knot.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The eighth field is the moving angle, which is calculated by its</dt><dd><p>moving orbit.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The ninth field is the date with format ddMMyy. In this example,</dt><dd><p>“270116” stands for day 27, January, year 2016.</p>
</dd>
</dl>
</li>
<li><p>The last field is checksum. In the example we have *53 as checksum.</p></li>
</ul>
<p>RTL8722 wiring diagram:<a class="reference internal" href="../../../_images/image514.png"><img alt="5" src="../../../_images/image514.png" style="width: 6.5in; height: 6.14097in;" /></a>Open the example in “Files” -&gt; “Examples” -&gt;
“AmebaSoftwareSerial” -&gt; “Adafruit_GPS_parsing”. Compile and upload to
Ameba, then press the reset button. The result will be output to Serial
Monitor:<a class="reference internal" href="../../../_images/image65.png"><img alt="6" src="../../../_images/image65.png" style="width: 6.3125in; height: 3.99306in;" /></a><a class="reference internal" href="../../../_images/image74.png"><img alt="7" src="../../../_images/image74.png" style="width: 6.22222in; height: 3.92361in;" /></a></p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20UART%20%E2%80%93%20Set%20Callback%20Function%20For%20UART%20Communications.html" class="btn btn-neutral float-right" title="[RTL8722CSM] [RTL8722DM] UART – Set Callback Function For UART Communications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="%5BRTL8722DM%5D%20%5BRTL8722DM%5D%20UART%20-%20Communicate%20with%20the%20computer%20via%20UART.html" class="btn btn-neutral float-left" title="[RTL8722DM] [RTL8722DM] UART - Communicate with the computer via UART" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Ameba IoT.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>