

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>[RTL8722CSM/RTL8722DM] TensorFlow Lite - Person Detection &mdash; amebaDocs 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Components used" href="Components%20used.html" />
    <link rel="prev" title="[RTL8722CSM/RTL8722DM] TensorFlow Lite - Micro Speech" href="MicroSpeech.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> amebaDocs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Open Source SDKs:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../source/arduino_index.html">Arduino SDK</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html">AmebaD</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../ambd_mini/source/index.html">AmebaD-mini</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/getting_started/RTL8722DM_mini_Arduino%20SDK_getting%20start.html">Getting Started with RTL8722DM_mini</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/download/index.html">Download</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../ambd_mini/source/peripherals_and_examples/index.html">Peripherals &amp; Examples</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../../ambd_mini/source/peripherals_and_examples/RTL8722DM_MINI_Arduino_SDK_basic_example_table%2015Apr2021.html">Basic Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="Network%20Examples.html">Network Examples</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="Peripheral%20Examples.html">Peripheral Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="Components%20used.html">Components used</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/board_hdk/index.html">Board HDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/api_documents/index.html">API Documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/resources/index.html">Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/support/index.html">Support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_micropython/source/index.html">Micropython SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_sdk/source/index.html">Standard SDK</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">amebaDocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../source/arduino_index.html">Arduino SDK</a> &raquo;</li>
        
          <li><a href="../index.html">AmebaD</a> &raquo;</li>
        
          <li><a href="index.html">Peripherals &amp; Examples</a> &raquo;</li>
        
          <li><a href="Peripheral%20Examples.html">Peripheral Examples</a> &raquo;</li>
        
      <li>[RTL8722CSM/RTL8722DM] TensorFlow Lite - Person Detection</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/ambd_arduino/source/peripherals_and_examples/PersonDetection.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rtl8722csm-rtl8722dm-tensorflow-lite-person-detection">
<h1>[RTL8722CSM/RTL8722DM] TensorFlow Lite - Person Detection<a class="headerlink" href="#rtl8722csm-rtl8722dm-tensorflow-lite-person-detection" title="Permalink to this headline">¶</a></h1>
<p><strong>Materials</strong></p>
<ul class="simple">
<li><p>Ameba D [RTL8722 CSM/DM] x 1</p></li>
<li><p>Arducam Mini 2MP Plus OV2640 SPI Camera Module x 1</p></li>
<li><p>LED x 3</p></li>
</ul>
<p><strong>Example</strong></p>
<p><strong>Procedure</strong></p>
<p>Connect the camera and LEDs to the RTL8722 board following the diagram.</p>
<a class="reference internal image-reference" href="../../../_images/image16.png"><img alt="../../../_images/image16.png" src="../../../_images/image16.png" style="width: 3.53125in; height: 2.10417in;" /></a>
<p>Download the Ameba customized version of TensorFlow Lite for
Microcontrollers library at
<a class="reference external" href="https://github.com/ambiot/ambd_arduino/tree/master/Arduino_zip_libraries">https://github.com/ambiot/ambd_arduino/tree/master/Arduino_zip_libraries</a>.
Follow the instructions at <a class="reference external" href="https://www.arduino.cc/en/guide/libraries">https://www.arduino.cc/en/guide/libraries</a> to
install it. Ensure that the patch files found at
<a class="reference external" href="https://github.com/ambiot/ambd_arduino/tree/master/Ameba_misc/">https://github.com/ambiot/ambd_arduino/tree/master/Ameba_misc/</a> are also
installed.</p>
<p>You will also need to install the Ameba_ArduCAM library, found together
with the TensorFlow Lite library.</p>
<p>In the Arduino IDE library manager, install the JPEGDecoder library.
This example has been tested with version 1.8.0 of the JPEGDecoder
library.</p>
<p>Once the library has installed, you will need to configure it to disable
some optional components that are not compatible with the RTL8722DM.
Open the following file:</p>
<p>Arduino/libraries/JPEGDecoder/src/User_Config.h</p>
<p>Make sure that both #define LOAD_SD_LIBRARY and #define
LOAD_SDFAT_LIBRARY are commented out, as shown in this excerpt from the
file:</p>
<p>//#define LOAD_SD_LIBRARY // Default SD Card library</p>
<p>//#define LOAD_SDFAT_LIBRARY // Use SdFat library instead, so SD Card
SPI can be bit bashed</p>
<p>Open the example, “Files” -&gt; “Examples” -&gt; “TensorFlowLite_Ameba” -&gt;
“person_detection”.</p>
<a class="reference internal image-reference" href="../../../_images/image26.png"><img alt="../../../_images/image26.png" src="../../../_images/image26.png" style="width: 1.85417in; height: 2.77083in;" /></a>
<p>Upload the code and press the reset button on Ameba once the upload is
finished.</p>
<p>Once it is running, you should see the blue LED flashing once every few
seconds, indicating that it has finished processing an image. The red
LED will light up if it determines that there is no person in the
previous image captured, and the green LED will light up if it
determines that there is a person.</p>
<p>The inference results are also output to the Arduino serial monitor,
which appear as follows:</p>
<a class="reference internal image-reference" href="../../../_images/image31.png"><img alt="../../../_images/image31.png" src="../../../_images/image31.png" style="width: 3.96875in; height: 2.97656in;" /></a>
<p><a href="#id1"><span class="problematic" id="id2">**</span></a>Code Reference**S</p>
<p>More information on TensorFlow Lite for Microcontrollers can be found
at: <a class="reference external" href="https://www.tensorflow.org/lite/microcontrollers">https://www.tensorflow.org/lite/microcontrollers</a></p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="Components%20used.html" class="btn btn-neutral float-right" title="Components used" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="MicroSpeech.html" class="btn btn-neutral float-left" title="[RTL8722CSM/RTL8722DM] TensorFlow Lite - Micro Speech" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Ameba IoT.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>