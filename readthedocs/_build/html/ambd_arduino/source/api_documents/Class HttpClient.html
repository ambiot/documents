

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Class HttpClient &mdash; amebaDocs 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Class HttpClient" href="Class%20IRDevice.html" />
    <link rel="prev" title="Class EpdIF" href="Class%20GTimerClass.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> amebaDocs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Open Source SDKs:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../source/arduino_index.html">Arduino SDK</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html">AmebaD</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../ambd_mini/source/index.html">AmebaD-mini</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/getting_started/RTL8722DM_mini_Arduino%20SDK_getting%20start.html">Getting Started with RTL8722DM_mini</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/download/index.html">Download</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/peripherals_and_examples/index.html">Peripherals &amp; Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/board_hdk/index.html">Board HDK</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../ambd_mini/source/api_documents/index.html">API Documents</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="Class%20AmebaServo.html">Class AmebaServo</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLEAddr.html">Class BLEAddr</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLEAdvert.html">Class BLEAdvert</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLEAdvertData.html">Class BLEAdvertData</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLEBeacon.html">Class BLEBeacon</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLECharacteristic.html">Class BLECharacteristic</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLEClient.html">Class BLEClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLEConnect.html">Class BLEConnect</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLEDevice.html">Class BLEDevice</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLERemoteCharacteristic.html">Class BLERemoteCharacteristic</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLERemoteDescriptor.html">Class BLERemoteDescriptor</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLERemoteService.html">Class BLERemoteService</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLEScan.html">Class BLEScan</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLEService.html">Class BLEService</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLEUUID.html">Class BLEUUID</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20BLEWifiConfigService.html">Class BLEWifiConfigService</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20EpdIF.html">Class EpdIF</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20FlashMemoryClass.html">Class EpdIF</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20DHT.html">Class DHT</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20InterruptLock.html">Class HttpClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20GTimerClass.html">Class EpdIF</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Class HttpClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20IRDevice.html">Class HttpClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20MDNSClass.html">Class HttpClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20MDNSService.html">Class HttpClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20PubSubClient.html">Class PMUClass</a></li>
<li class="toctree-l4"><a class="reference internal" href="MQTTClient_Readme.html">MQTTClient_Readme</a></li>
<li class="toctree-l4"><a class="reference internal" href="NTPClient_Readme.html">NTPClient_Readme</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20PMUClass.html">Class PMUClass</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20RTC.html">Class RTC</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20Adafruit_GPS.html">Class Adafruit_GPS</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20PMS3003.html">Class HttpClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20SoftwareSerial.html">Class SoftwareSerial</a></li>
<li class="toctree-l4"><a class="reference internal" href="SoftwareSerial_Readme.html">SoftwareSerial_Readme</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20AmebaILI9341.html">Class AmebaILI9341</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20SPISettings_SPIClass.html">Class SPISettings_SPIClass</a></li>
<li class="toctree-l4"><a class="reference internal" href="SPI_Readme.html">SPI_Readme</a></li>
<li class="toctree-l4"><a class="reference internal" href="Wiring_OS_API.html">Wiring_OS_API</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20WDT.html">Class WDT</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20WiFi.html">Class WiFi</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20WiFiClient.html">Class WiFiClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20WiFiServer.html">Class WiFiServer</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20WiFiSSLClient.html">Class WiFiSSLClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20WiFiUdp.html">Class WiFiUdp</a></li>
<li class="toctree-l4"><a class="reference internal" href="WiFi_Readme.html">WiFi_Readme</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20TwoWire.html">Class TwoWire</a></li>
<li class="toctree-l4"><a class="reference internal" href="Wire_Readme.html">Wire_Readme</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20AudioCodec.html">Class AudioCodec</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20FatFsSD.html">Class SdFatFs</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20FFT.html">Class FFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="Class%20SdFatFile.html">Class SdFatFile</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/resources/index.html">Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ambd_mini/source/support/index.html">Support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_micropython/source/index.html">Micropython SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_sdk/source/index.html">Standard SDK</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">amebaDocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../source/arduino_index.html">Arduino SDK</a> &raquo;</li>
        
          <li><a href="../index.html">AmebaD</a> &raquo;</li>
        
          <li><a href="index.html">API Documents</a> &raquo;</li>
        
      <li>Class HttpClient</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/ambd_arduino/source/api_documents/Class HttpClient.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="class-httpclient">
<h1>Class HttpClient<a class="headerlink" href="#class-httpclient" title="Permalink to this headline">¶</a></h1>
<p><strong>HttpClient Class</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Defines a class of using HttpClient</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">class HttpClient</div>
</div>
<p><strong>Members</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 49%" />
<col style="width: 51%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Public Constructors</strong></p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>HttpClient::HttpClient</p></td>
<td><p>Constructs a HttpClient object</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Public Methods</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>HttpClient::beginRequest</p></td>
<td><p>Start a more complex request</p></td>
</tr>
<tr class="row-odd"><td><p>HttpClient::endRequest</p></td>
<td><p>End a more complex request</p></td>
</tr>
<tr class="row-even"><td><p>HttpClient::get</p></td>
<td><p>Connect to the server and start
to send a GET request</p></td>
</tr>
<tr class="row-odd"><td><p>HttpClient::post</p></td>
<td><p>Connect to the server and start
to send a POST request</p></td>
</tr>
<tr class="row-even"><td><p>HttpClient::put</p></td>
<td><p>Connect to the server and start
to send a PUT request</p></td>
</tr>
<tr class="row-odd"><td><p>HttpClient::startRequest</p></td>
<td><p>Connect to the server and start
to send the request</p></td>
</tr>
<tr class="row-even"><td><p>HttpClient::sendHeader</p></td>
<td><p>Send an additional header line</p></td>
</tr>
<tr class="row-odd"><td><p>HttpClient::sendBasicAuth</p></td>
<td><p>Send a basic authentication
header</p></td>
</tr>
<tr class="row-even"><td><p>HttpClient::finishRequest</p></td>
<td><p>Finish sending the HTTP request</p></td>
</tr>
<tr class="row-odd"><td><p>HttpClient::responseStatusCode</p></td>
<td><p>Get the HTTP status code
contained in the response</p></td>
</tr>
<tr class="row-even"><td><p>HttpClient::readHeader</p></td>
<td><p>Read the next character of the
response headers</p></td>
</tr>
<tr class="row-odd"><td><p>HttpClient::skipResponseHeaders</p></td>
<td><p>Skip any response headers to get
to the body</p></td>
</tr>
<tr class="row-even"><td><p>HttpClient::endOfHeadersReached</p></td>
<td><p>Test whether all of the response
headers have been consumed</p></td>
</tr>
<tr class="row-odd"><td><p>HttpClient::endOfBodyReached</p></td>
<td><p>Test whether the end of the body
has been reached</p></td>
</tr>
<tr class="row-even"><td><p>HttpClient::contentLength</p></td>
<td><p>Return the length of the body</p></td>
</tr>
</tbody>
</table>
<p><strong>HttpClient::HttpClient</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Constructs a HttpClient object. If Marco “PROXY_ENABLED” is defined,
currently disabled as introduces a dependency on DNS.h in Ethernet.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">HttpClient::HttpClient(Client&amp; aClient, const char* aProxy = NULL,
uint16_t aProxyPort = 0);</div>
<div class="line">HttpClient::HttpClient(Client&amp; aClient);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">aClient: The object of class WiFiClient.</div>
<div class="line">aProxy: The proxy name. The default proxy name is “NULL”.</div>
<div class="line">aProxyPort: The proxy port. The default value for the proxy port is 0.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrate how to download the content from URL indicated
in kHostname[].</div>
</div>
<p><strong>#include &lt;HttpClient.h&gt;</strong></p>
<p><strong>#include &lt;WiFi.h&gt;</strong></p>
<p><strong>#include &lt;WiFiClient.h&gt;</strong></p>
<p><strong>char</strong> ssid[] = “YourNetwork”; // your network SSID (name)</p>
<p><strong>char</strong> pass[] = “password”; // your network password (use for WPA, or
use as key for WEP)</p>
<p><strong>int</strong> keyIndex = 0; // your network key Index number (needed only for
WEP)</p>
<p>// Name of the server we want to connect to</p>
<p>const <strong>char</strong> kHostname[] = “www.google.com”;</p>
<p>const <strong>char</strong> kPath[] = “/”;</p>
<p>// Number of milliseconds to wait without receiving any data before we
give up</p>
<p>const <strong>int</strong> kNetworkTimeout = 30*1000;</p>
<p>// Number of milliseconds to wait if no data is available before trying
again</p>
<p>const <strong>int</strong> kNetworkDelay = 1000;</p>
<p><strong>int</strong> status = WL_IDLE_STATUS;</p>
<p><strong>void</strong> setup() {</p>
<p>Serial.begin(9600);</p>
<p><strong>while</strong> ( status != WL_CONNECTED) {</p>
<p>Serial.print(“Attempting to connect to SSID: “);</p>
<p>Serial.println(ssid);</p>
<p>status = WiFi.begin(ssid, pass);</p>
<p>// wait 10 seconds for connection:</p>
<p>delay(10000);</p>
<p>}</p>
<p>Serial.println(“Connected to wifi”);</p>
<p>printWifiStatus();</p>
<p>}</p>
<p><strong>void</strong> loop() {</p>
<p><strong>int</strong> err =0;</p>
<p>WiFiClient c;</p>
<p>HttpClient http(c);</p>
<p>err = http.get(kHostname, kPath);</p>
<p><strong>if</strong> (err == 0)</p>
<p>{</p>
<p>Serial.println(“startedRequest ok”);</p>
<p>err = http.responseStatusCode();</p>
<p><strong>if</strong> (err &gt;= 0)</p>
<p>{</p>
<p>Serial.print(“Got status code: “);</p>
<p>Serial.println(err);</p>
<p>// Usually you’d check that the response code is 200 or a</p>
<p>// similar “success” code (200-299) before carrying on,</p>
<p>// but we’ll print out whatever response we get</p>
<p>err = http.skipResponseHeaders();</p>
<p><strong>if</strong> (err &gt;= 0)</p>
<p>{</p>
<p><strong>int</strong> bodyLen = http.contentLength();</p>
<p>Serial.print(“Content length is: “);</p>
<p>Serial.println(bodyLen);</p>
<p>Serial.println();</p>
<p>Serial.println(“Body returned follows:”);</p>
<p>// Now we’ve got to the body, so we can print it out</p>
<p>unsigned <strong>long</strong> timeoutStart = millis();</p>
<p><strong>char</strong> c;</p>
<p>// Whilst we haven’t timed out &amp; haven’t reached the end of the body</p>
<p><strong>while</strong> ( (http.connected() || http.available()) &amp;&amp;</p>
<p>((millis() - timeoutStart) &lt; kNetworkTimeout) )</p>
<p>{</p>
<p><strong>if</strong> (http.available())</p>
<p>{</p>
<p>c = http.read();</p>
<p>// Print out this character</p>
<p>Serial.print(c);</p>
<p>bodyLen–;</p>
<p>// We read something, reset the timeout counter</p>
<p>timeoutStart = millis();</p>
<p>}</p>
<p><strong>else</strong></p>
<p>{</p>
<p>// We haven’t got any data, so let’s pause to allow some to arrive</p>
<p>delay(kNetworkDelay);</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p><strong>else</strong></p>
<p>{</p>
<p>Serial.print(“Failed to skip response headers: “);</p>
<p>Serial.println(err);</p>
<p>}</p>
<p>}</p>
<p><strong>else</strong></p>
<p>{</p>
<p>Serial.print(“Getting response failed: “);</p>
<p>Serial.println(err);</p>
<p>}</p>
<p>}</p>
<p><strong>else</strong></p>
<p>{</p>
<p>Serial.print(“Connect failed: “);</p>
<p>Serial.println(err);</p>
<p>}</p>
<p>http.stop();</p>
<p>// And just stop, now that we’ve tried a download</p>
<p><strong>while</strong>(1);</p>
<p>}</p>
<p><strong>void</strong> printWifiStatus() {</p>
<p>// print the SSID of the network you’re attached to:</p>
<p>Serial.print(“SSID: “);</p>
<p>Serial.println(WiFi.SSID());</p>
<p>// print your WiFi shield’s IP address:</p>
<p>IPAddress ip = WiFi.localIP();</p>
<p>Serial.print(“IP Address: “);</p>
<p>Serial.println(ip);</p>
<p>// print the received signal strength:</p>
<p><strong>long</strong> rssi = WiFi.RSSI();</p>
<p>Serial.print(“signal strength (RSSI):”);</p>
<p>Serial.print(rssi);</p>
<p>Serial.println(” dBm”);</p>
<p>}</p>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::beginRequest</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Start a more complex request. Use this when you need to send
additional headers in the request, but you will also need to call
endRequest() when you are finished.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">void HttpClient::beginRequest(void);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">The function requires no input parameter.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::endRequest</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">End a more complex request. Use this when you need to have sent
additional headers in the request, but you will also need to call
beginRequest() at the start.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">void HttpClient::endRequest(void);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">The function requires no input parameter.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::get</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Connect to the server and start to send a “GET” request. If the input
parameter contains “aServerAddress”, the connection will not perform a
DNS lookup and just purely connect to the given IP address.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">int HttpClient::get(const char* aServerName, uint16_t aServerPort,
const char* aURLPath, const char* aUserAgent = NULL);</div>
<div class="line">int HttpClient::get(const char* aServerName, const char* aURLPath,
const char* aUserAgent = NULL);</div>
<div class="line">int HttpClient::get(const IPAddress&amp; aServerAddress, const char*
aServerName, uint16_t aServerPort, const char* aURLPath, const char*
aUserAgent = NULL);</div>
<div class="line">int HttpClient::get(const IPAddress&amp; aServerAddress, const char*
aServerName, const char* aURLPath, const char* aUserAgent = NULL);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">aServerName: The name of the server being connected to. If aServerName
is “NULL”, the “Host” header line will not be sent.</div>
<div class="line">aServerPort: The port on which server connected.</div>
<div class="line">aURLPath: The URL to request.</div>
<div class="line">aUserAgent: User-Agent string to be sent. If aUserAgent indicated as
“NULL”, the default user-agent kUserAgent will be sent.</div>
<div class="line">aServerAddress: IP address of the server to connect to.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">Return 0 if successful, otherwise indicates an error occurs.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::post</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Connect to the server and start to send a “POST” request. If the input
parameter has “aServerAddress”, connects doesn’t perform a DNS lookup
and just connects to the given IP address.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">int HttpClient::post(const char* aServerName, uint16_t aServerPort,
const char* aURLPath, const char* aUserAgent = NULL);</div>
<div class="line">int HttpClient::post(const char* aServerName, const char* aURLPath,
const char* aUserAgent = NULL);</div>
<div class="line">int HttpClient::post(const IPAddress&amp; aServerAddress, const char*
aServerName, uint16_t aServerPort, const char* aURLPath, const char*
aUserAgent = NULL);</div>
<div class="line">int HttpClient::post(const IPAddress&amp; aServerAddress, const char*
aServerName, const char* aURLPath, const char* aUserAgent = NULL);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">aServerName: Name of the server being connected to. If NULL, the
“Host” header line won’t be sent.</div>
<div class="line">aServerPort: Port to connect to on the server.</div>
<div class="line">aURLPath: Url to request.</div>
<div class="line">aUserAgent: User-Agent string to be sent. If aUserAgent indicated as
“NULL”, the default user-agent kUserAgent will be sent.</div>
<div class="line">aServerAddress: IP address of the server to connect to.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">Return 0 if successful, otherwise indicates an error occurs.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::put</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Connect to the server and start to send a PUT request. If the input
parameter has “aServerAddress”, connects doesn’t perform a DNS lookup
and just connects to the given IP address.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">int HttpClient::put(const char* aServerName, uint16_t aServerPort,
const char* aURLPath, const char* aUserAgent = NULL);</div>
<div class="line">int HttpClient::put(const char* aServerName, const char* aURLPath,
const char* aUserAgent = NULL);</div>
<div class="line">int HttpClient::put(const IPAddress&amp; aServerAddress, const char*
aServerName, uint16_t aServerPort, const char* aURLPath, const char*
aUserAgent = NULL);</div>
<div class="line">int HttpClient::put(const IPAddress&amp; aServerAddress, const char*
aServerName, const char* aURLPath, const char* aUserAgent = NULL);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">aServerName: Name of the server being connected to. If NULL, the
“Host” header line won’t be sent.</div>
<div class="line">aServerPort: Port to connect to on the server.</div>
<div class="line">aURLPath: Url to request.</div>
<div class="line">aUserAgent: User-Agent string to be sent. If aUserAgent indicated as
“NULL”, the default user-agent kUserAgent will be sent.</div>
<div class="line">aServerAddress: IP address of the server to connect to.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">Return 0 if successful, otherwise indicates an error occurs.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::startRequest</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Connect to the server and start to send the request.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">int HttpClient::startRequest(const char* aServerName, uint16_t
aServerPort, const char* aURLPath, const char* aHttpMethod, const
char* aUserAgent);</div>
<div class="line">int HttpClient::startRequest(const IPAddress&amp; aServerAddress, const
char* aServerName, uint16_t aServerPort, const char* aURLPath, const
char* aHttpMethod, const char* aUserAgent);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">aServerAddress: IP address of the server to connect to.</div>
<div class="line">aServerName: Name of the server being connected to. If NULL, the
“Host” header line won’t be sent.</div>
<div class="line">aServerPort: Port to connect to on the server.</div>
<div class="line">aURLPath: Url to request.</div>
<div class="line">aHttpMethod: Type of HTTP request to make, e.g. “GET”, “POST”, etc.</div>
<div class="line">aUserAgent: User-Agent string to send. If NULL the default user-agent
kUserAgent will be sent.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">Return 0 if successful, else error.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::sendHeader</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">The function sends an additional header line.</div>
<div class="line">The function void HttpClient:: sendHeader(const char* aHeader);can
only be called in between the calls to startRequest and finishRequest.</div>
<div class="line">The other 2 functions void HttpClient::sendHeader(const char*
aHeaderName, const char* aHeaderValue); and void
HttpClient::sendHeader(const char* aHeaderName, const int
aHeaderValue); are alternate form the previous one, which takes the
header name and content as separately (as strings or integer). For
example, to send an XXXXXX header, user might call sendHeader(“XXXXX”,
“Something”) or sendHeader(“XXXXX”, 123).And the call will add the “:
” in the log to separate different header in the case of multiple
headers.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">void HttpClient::sendHeader(const char* aHeader);</div>
<div class="line">void HttpClient::sendHeader(const char* aHeaderName, const char*
aHeaderValue);</div>
<div class="line">void HttpClient::sendHeader(const char* aHeaderName, const int
aHeaderValue);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">aHeader: Header line to send, in its entirety (but without the
trailing CRLF. E.g. “Authorization: Basic YQDDCAIGES”.</div>
<div class="line">aHeaderName: Type of header being sent.</div>
<div class="line">aHeaderValue: Value for that header.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::sendBasicAuth</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">The function sends a basic authentication header which will encode the
given username and password, and send them in a suitable header line
for doing Basic Authentication.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">void HttpClient::sendBasicAuth(const char* aUser, const char*
aPassword);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">aUser: Username for the authorization.</div>
<div class="line">aPassword: Password for the user aUser.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::finishRequest</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Finish sending the HTTP request. The function sends a blank line to
signify the end of the request.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">void HttpClient::finishRequest(void);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">The function requires no input parameter.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::responseStatusCode</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Get the HTTP status code contained in the response. For example, “200”
for successful requests, “404” for file not found, etc.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">int HttpClient::responseStatusCode(void);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">The function requires no input parameter.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">Return 0 if successful, else error.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::readHeader</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">The function reads the next character of the response headers. This
functions the same as read() but to be used when reading through the
headers which are slightly less efficient. The user might check
whether the end of the headers has been reached by calling
endOfHeadersReached(), although after that point this will still
return data as read() would.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">int HttpClient::readHeader(void);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">The function requires no input parameter.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">Return the next character of the response headers.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::skipResponseHeaders</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Skip any response headers to get to the body. Use this if you don’t
want to do any special processing of the headers returned in the
response. You can also use it after you’ve found all of the headers
you’re interested in, and just want to get on with processing the
body.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">int HttpClient::skipResponseHeaders(void);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">The function requires no input parameter.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">Return 0 if successful, else error.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::endOfHeadersReached</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Test whether all of the response headers have been consumed.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">bool HttpClient::endOfHeadersReached(void);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">The function requires no input parameter.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">Return true if we are now processing the response body, else false.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::endOfBodyReached</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Test whether the end of the body has been reached. It only works if
the Content-Length header was returned by the server.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">bool HttpClient::endOfBodyReached(void);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">The function requires no input parameter.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">Return true if we are now at the end of the body, else false.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
<p><strong>HttpClient::contentLength</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">The function returns the length of the body.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">int HttpClient::contentLength(void);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">The function requires no input parameter.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">Return Length of the body, in bytes, or kNoContentLengthHeader if no
Content-Length header was returned by the server.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: SimpleHttpExample</div>
<div class="line">The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Include “HttpClient.h” to use the class function.</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="Class%20IRDevice.html" class="btn btn-neutral float-right" title="Class HttpClient" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="Class%20GTimerClass.html" class="btn btn-neutral float-left" title="Class EpdIF" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Ameba IoT.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>